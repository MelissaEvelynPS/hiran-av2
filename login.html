<!DOCTYPE html>

<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <title>Login</title>
  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      fetch('submenu.html') //buscar o submenu
        .then(resp => resp.text()) //resp é o objeto que o fetch pegou; text() o resp retorna string, que é util em HTML
        .then(html => document.getElementById('menu').innerHTML = html);
        /*esse then so vai ser executado depois do arquivo virar string
        html é o tipo de string do submenu
        document.getElementById => documento que representa a página atual
        procura um elemento HTML que tenha atributo id igual o valor passado, no caso 'menu'
        retorna o elemento ou null se não existir; o ID é unico da página
        .innerHTML = html => todo o conteudo interno é HTML
        ao fazer = html, substitui o "<div id="menu"> pelo HTML que a gente puxou*/
    </script>
    <link rel="stylesheet" href="style.css">
    
</head>
<body class="page-container"> <!-- espacinho bacana -->
    <div id="menu"></div>
    <div class="page-content bg-light"> 
        <!-- transforma em flexbox, centraliza horizontal e vertical, altura minima da tela toda -->
        <div class="card p-4 shadow-sm" style="width: 320px;">
            <img src="https://cdn-icons-png.flaticon.com/512/6681/6681204.png"
            class="img-fluid mx-auto d-block"
            style="width:120px; height:auto; margin-bottom: 15px;" 
            alt="Login">
            <!-- da um espacinho entre a foto e o login -->
            
        <h1 class="h5 text-center mb-3">Login</h1>
    
        <form id="loginForm">
        <div class="mb-3">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
            <label for="senha" class="form-label">Senha</label>
            <input type="password" class="form-control" id="senha" name="senha" required>
        </div>
            <button type="submit" class="btn btn-blue w-100">Entrar</button>
        </form>
        </div>
    </div>
    
    <script>
        document.getElementById("loginForm").addEventListener("submit", function(e) { //procura no doc um loginForm; quando o usuário apertar o 'submit'; função evento
        e.preventDefault(); // impede o envio automático

        const email = document.getElementById("email").value;
        const senha = document.getElementById("senha").value;

        // LOGIN PERMITIDO
        const emailPermitido = "funcionario@disconnect.com";
        const senhaPermitida = "1234";

        if (email === emailPermitido && senha === senhaPermitida) {
            // login correto → redirecionar
            window.location.href = "principal.html";
        } else {
            // login incorreto → alerta
            alert("E-mail ou senha não cadastrado!");
        }
        });
    </script>        
</body>
</html>
